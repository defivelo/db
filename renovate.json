{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    "group:allNonMajor",
    "schedule:weekly"
  ],
  "baseBranches": [
    "staging"
  ],
  "ignorePaths": [
    "envdir/**",
    "ext/**",
    "scripts/**"
  ],
  "major": {
    "enabled": false
  },
  "pip-compile": {
    "enabled": false
  },
  "pip_requirements": {
    "enabled": true,
    "managerFilePatterns": ["/(^|/)[\\w-]*requirements/([-.\\w]+)\\.(txt|pip)$/"]
  },
  "pip_setup": {
    "enabled": true
  },
  "constraints": {
    "python": "==3.11"
  },
  "docker-compose": {
    "major": {
      "enabled": false
    },
    "minor": {
      "enabled": true
    }
  },
  "dockerfile": {
    "major": {
      "enabled": false
    },
    "minor": {
      "enabled": false
    }
  },
  "packageRules": [
    {
      "matchDatasources": [
        "docker"
      ],
      "matchPackageNames": [
        "python"
      ],
      "allowedVersions": "^3.11"
    },
    {
      "matchDatasources": [
        "docker"
      ],
      "matchPackageNames": [
        "postgres"
      ],
      "allowedVersions": "^15.0"
    },
    {
      "managers": ["html"],
      "enabled": false
    }
  ]
}
